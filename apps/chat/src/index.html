<!doctype html>
<html lang="en" class="dark">

<head>
  <meta charset="utf-8" class="" />
  <title>Mezon</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
  <link rel="manifest" href="assets/site.webmanifest" />
  <meta name="description"
    content="Join Mezon to play games, chill with friends, and build your community. Create your own customized space to chat, play, and hang out with people from around the world." />
  <meta property="og:locale" content="en_US" />
  <meta property="og:title" content="Mezon â€“ The Live, Work, and Play Platform." />
  <meta property="og:description"
    content="Join Mezon to play games, chill with friends, and build your community. Create your own customized space to chat, play, and hang out with people from around the world." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://mezon.ai" />
  <meta property="og:image" itemprop="thumbnailUrl" content="https://mezon.ai/assets/preview.png" />
  <meta property="og:image:alt" content="Mezon" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="675" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@mezon.ai" />
  <meta name="twitter:creator" content="@mezon.ai" />
  <meta name="twitter:url" content="https://mezon.ai" />
  <meta name="twitter:title" content="Mezon - Your Clan & Your World" />
  <meta name="twitter:description"
    content="Join Mezon to play games, chill with friends, and build your community. Create your own customized space to chat, play, and hang out with people from around the world." />
  <meta name="twitter:image" content="https://mezon.ai/assets/preview.png" />

  <style>
    :root {
      --splash-background: rgba(240, 240, 240, 0.95);
      --splash-text-color: rgb(78, 80, 87);
    }

    html.dark {
      --splash-background: rgba(0, 0, 0, 0.8);
      --splash-text-color: #E6E6E6;
    }

    .splash-screen {
      position: fixed;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      overflow-x: hidden;
      overflow-y: auto;
      overflow: hidden;
      inset: 0;
      outline: none;
      background-color: var(--splash-background);
      font-family: sans-serif;
      color: var(--splash-text-color);
    }
  </style>

  <script>
    const appData = JSON.parse(localStorage.getItem('persist:apps'));
    if (appData?.theme === 'dark') {
      document.documentElement.classList.add('dark');
    }

  </script>
</head>

<body>
  <div id="splash-screen" class="splash-screen">
    <div>
      Loading ...
    </div>
  </div>
  <div id="root"></div>
  <script>

    window.requestIdleCallback =
      window.requestIdleCallback ||
      function (cb) {
        const start = Date.now();
        return setTimeout(function () {
          cb({
            didTimeout: false,
            timeRemaining: function () {
              return Math.max(0, 50 - (Date.now() - start));
            }
          });
        }, 1);
      };

    window.cancelIdleCallback =
      window.cancelIdleCallback ||
      function (id) {
        clearTimeout(id);
      };


    const path = window.location.pathname;
    window?.electron?.on('reload-app', () => {
      const authData = localStorage.getItem('persist:auth');
      const appData = localStorage.getItem('persist:apps');
      const clanData = localStorage.getItem('persist:clans');
      const categoriesData = localStorage.getItem('persist:categories');
      const rememberChannelData = localStorage.getItem('remember_channel');
      const mezonSession = localStorage.getItem('mezon_session');

      localStorage.clear();

      mezonSession && localStorage.setItem('mezon_session', mezonSession);
      authData && localStorage.setItem('persist:auth', authData);
      appData && localStorage.setItem('persist:apps', appData);
      clanData && localStorage.setItem('persist:clans', clanData);

      categoriesData && localStorage.setItem('persist:categories', categoriesData);
      rememberChannelData && localStorage.setItem('remember_channel', rememberChannelData)

      const isCrashScreen = document.getElementById('error-crash');
      if (isCrashScreen) {
        return window.location.replace(path);
      }
      window.location.reload();
    });
  </script>
  <script>
    var module = { exports: {} };
  </script>
  <script src="./assets/js/blurhash.js"></script>
  <script>
    window.blurhash = module.exports;
  </script>


</body>

</html>